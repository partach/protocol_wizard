write_register:
  name: Write Register
  description: Write a typed value to a Modbus register with proper packing.
  target:
    entity:
      integration: protocol_wizard
  fields:
    address:
      name: Register Address
      description: Modbus register address.
      required: true
      example: 100
      selector:
        number:
          mode: box
          min: 0
          max: 65535
          step: 1

    value:
      name: Value
      description: Value to write (will be packed according to data type).
      required: true
      selector:
        text:

    register_type:
      name: Register Type
      description: Type of register to read. Use "auto" to try all types (recommended).
      required: false
      default: auto
      selector:
        select:
          options:
            - auto
            - holding
            - input
            - coil
            - discrete

    data_type:
      name: Data Type
      description: How the value should be encoded.
      required: false
      default: uint16
      selector:
        select:
          options:
            - label: Unsigned 16-bit
              value: uint16
            - label: Signed 16-bit
              value: int16
            - label: Unsigned 32-bit
              value: uint32
            - label: Signed 32-bit
              value: int32
            - label: Float 32-bit
              value: float32

    byte_order:
      name: Byte Order
      description: Byte order inside a register.
      required: false
      default: big
      selector:
        select:
          options:
            - label: Big Endian (AB)
              value: big
            - label: Little Endian (BA)
              value: little

    word_order:
      name: Word Order
      description: Register order for multi-register values.
      required: false
      default: big
      selector:
        select:
          options:
            - label: Big Endian (AB CD)
              value: big
            - label: Little Endian (CD AB)
              value: little

read_register:
  name: Read Modbus Register
  description: Read a Modbus register from a Modbus Wizard device and optionally decode it.
  target:
    entity:
      integration: protocol_wizard
  fields:
    address:
      name: Address
      description: Modbus register address (0-based)
      required: true
      selector:
        number:
          min: 0
          max: 65535
          step: 1
          mode: box
    register_type:
      name: Register Type
      description: Type of register to read. Use "auto" to try all types (recommended).
      required: false
      default: auto
      selector:
        select:
          options:
            - auto
            - holding
            - input
            - coil
            - discrete
    data_type:
      name: Data Type
      description: How to interpret the raw register value(s).
      required: false
      default: uint16
      selector:
        select:
          options:
            - uint16
            - int16
            - uint32
            - int32
            - float32
            - string
    size:
      name: Size
      description: Number of registers/bits to read. Leave empty to auto-detect based on data_type.
      required: false
      selector:
        number:
          min: 1
          max: 20
          step: 1
          mode: box
    byte_order:
      name: Byte Order
      description: Byte order for multi-byte values.
      required: false
      default: big
      selector:
        select:
          options:
            - big
            - little
    word_order:
      name: Word Order
      description: Word order for multi-register values (e.g., float32 over 2 registers).
      required: false
      default: big
      selector:
        select:
          options:
            - big
            - little
    raw:
      name: Raw Mode
      description: If enabled, returns raw register/bit values instead of decoded value.
      required: false
      selector:
        boolean:
        
write_snmp:
  name: Write SNMP OID
  description: Write a value to an SNMP OID.
  target:
    entity:
      integration: protocol_wizard
  fields:
    oid:
      name: OID
      description: SNMP OID to write to.
      required: true
      example: .1.3.6.1.2.1.1.5.0
      selector:
        text:
    value:
      name: Value
      description: Value to write (will be converted according to data type).
      required: true
      selector:
        text:
    data_type:
      name: Data Type
      description: SNMP data type for the value.
      required: false
      default: Integer32
      selector:
        select:
          options:
            - label: Int
              value: Int
            - label: Unsigned32
              value: Unsigned32
            - label: Counter32
              value: Counter32
            - label: Gauge32
              value: Gauge32
            - label: TimeTicks
              value: TimeTicks
            - label: String
              value: String
            - label: IpAddress
              value: IpAddress
            - label: ObjectIdentifier
              value: ObjectIdentifier

read_snmp:
  name: Read SNMP OID
  description: Read an SNMP OID from a Protocol Wizard device.
  target:
    entity:
      integration: protocol_wizard
  fields:
    oid:
      name: OID
      description: SNMP OID to read.
      required: true
      selector:
        text:
    data_type:
      name: Data Type
      description: Expected SNMP data type for decoding.
      required: false
      default: Integer32
      selector:
        select:
          options:
            - Int
            - Unsigned32
            - Counter32
            - Gauge32
            - TimeTicks
            - String
            - IpAddress
            - ObjectIdentifier
    raw:
      name: Raw Mode
      description: If enabled, returns raw SNMP value without decoding.
      required: false
      selector:
        boolean:
add_entity:
  name: Add Entity
  description: Add a new entity to the Protocol Wizard integration from the frontend.
  target:
    entity:
      integration: protocol_wizard
  fields:
    name:
      name: Entity Name
      description: Unique name for the new entity.
      required: true
      example: "Temperature Sensor"
      selector:
        text:
    address:
      name: Address
      description: Register address (Modbus) or OID (SNMP).
      required: true
      example: "100"
      selector:
        text:
    data_type:
      name: Data Type
      description: How to interpret the value.
      required: false
      default: uint16
      example: "uint16"
      selector:
        select:
          options:
            - uint16
            - int16
            - uint32
            - int32
            - float32
            - uint64
            - int64
            - string
    rw:
      name: Read/Write Mode
      description: Access mode for the entity.
      required: false
      default: read
      selector:
        select:
          options:
            - read
            - write
            - rw
    scale:
      name: Scale
      description: Scaling factor to apply to value.
      required: false
      default: 1.0
      selector:
        number:
          min: -1000000
          max: 1000000
          step: 0.01
          mode: box
    offset:
      name: Offset
      description: Offset to apply to value.
      required: false
      default: 0.0
      selector:
        number:
          min: -1000000
          max: 1000000
          step: 0.01
          mode: box
    register_type:
      name: Register Type (Modbus)
      description: Modbus register type.
      required: false
      example: "holding"
      selector:
        select:
          options:
            - holding
            - input
            - coil
            - discrete
    byte_order:
      name: Byte Order (Modbus)
      description: Byte order for multi-byte values.
      required: false
      default: big
      selector:
        select:
          options:
            - big
            - little
    word_order:
      name: Word Order (Modbus)
      description: Word order for multi-register values.
      required: false
      default: big
      selector:
        select:
          options:
            - big
            - little
    size:
      name: Size (Modbus)
      description: Number of registers to read.
      required: false
      default: 1
      selector:
        number:
          min: 1
          max: 20
          step: 1
          mode: box
    read_mode:
      name: Read Mode (SNMP)
      description: SNMP read mode.
      required: false
      default: get
      selector:
        select:
          options:
            - get
            - walk
    format:
      name: Format String
      description: Optional format string for value display.
      required: false
      example: "{d} days {h} hours"
      selector:
        text:
    options:
      name: Options (Select Entity)
      description: JSON mapping for select entities.
      required: false
      example: '{"0": "Off", "1": "On"}'
      selector:
        text:
    device_class:
      name: Device Class
      description: Device class for the entity.
      required: false
      selector:
        text:
    state_class:
      name: State Class
      description: State class for sensors.
      required: false
      selector:
        select:
          options:
            - measurement
            - total
            - total_increasing
    entity_category:
      name: Entity Category
      description: Category for the entity.
      required: false
      selector:
        select:
          options:
            - config
            - diagnostic
    icon:
      name: Icon
      description: MDI icon for the entity.
      required: false
      example: "mdi:thermometer"
      selector:
        icon:
    min:
      name: Minimum Value
      description: Minimum value for number entities.
      required: false
      selector:
        number:
          mode: box
    max:
      name: Maximum Value
      description: Maximum value for number entities.
      required: false
      selector:
        number:
          mode: box
    step:
      name: Step
      description: Step size for number entities.
      required: false
      selector:
        number:
          min: 0.001
          max: 1000
          step: 0.001
          mode: box
